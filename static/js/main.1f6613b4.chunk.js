(this["webpackJsonpreact-textarea-emoji-example"]=this["webpackJsonpreact-textarea-emoji-example"]||[]).push([[0],{11:function(e,t,a){"use strict";a.r(t);a(3);var s=a(0),i=a.n(s),o=a(1),n=a.n(o),r=[{char:"\ud83c\udf82",name:"birthday cake",shortname:":birthday:",unicode:"1f382"},{char:"\ud83c\udf35",name:"cactus",shortname:":cactus:",unicode:"1F335"},{char:"\ud83d\udc31",name:"cat face",shortname:":cat:",unicode:"1f431"},{char:"\u2615",name:"coffee",shortname:":coffee:",unicode:"2615"},{char:"\ud83d\udcbb",name:"computer",shortname:":computer:",unicode:"1F4BB"},{char:"\ud83c\udf46",name:"eggplant",shortname:":eggplant:",unicode:"1F346"},{char:"\ud83c\udf43",name:"green leaves",shortname:":leaves:",unicode:"1F343"},{char:"\ud83c\udf51",name:"peach",shortname:":peach:",unicode:"1F351"},{char:"\u2764\ufe0f",name:"red heart",shortname:":red_heart:",unicode:"2764"},{char:"\ud83d\udca6",name:"sweat drops",shortname:":sweat_drops:",unicode:"1F4A6"},{char:"\ud83c\udf37",name:"tulip",shortname:":tulip:",unicode:"1f337"}];class c extends i.a.Component{constructor(e){super(e),this.handleChange=e=>{let t=e.target.value,a=e.target.selectionStart;this.transformValue(t,a)},this.handleKeyDown=e=>{let t=this.state.propositions.length;if(t){let a=this.state.emojiSelected,s=!0,i=!1,o=!1;switch(e.keyCode){case 38:a--;break;case 40:a++;break;case 13:i=!0;break;case 27:o=!0,s=!1;break;default:s=!1}if(a<0&&(a=0),a>t-1&&(a=t-1),s)if(e.preventDefault(),i){let e={target:{id:this.state.propositions[a].shortname}};this.onEmojiClicked(e)}else this.setState({emojiSelected:a});else o&&this.setState({propositions:[],emojiSelected:0})}},this.onEmojiClicked=e=>{let t=e.target.id,a=this.state.textValue,s=a.lastIndexOf(":",this.state.caretPosition);a=this.replaceBetweenIndex(a,t,s,this.state.caretPosition),this.textArea.focus(),this.transformValue(a,s+t.length)},this.replaceBetweenIndex=(e,t,a,s)=>e.substring(0,a)+t+e.substring(s),this.transformValue=(e,t)=>{let a=[],s=this.state.emojiSelected,i=e.lastIndexOf(":",t),o=e.lastIndexOf(":",i-1),n=e.lastIndexOf(" ",t-1),r=n<o&&o<i,c=(r?o:i)+1,l=r?t-1:t,h=e.substring(c,l);if(n<i&&h.length)if(r){let t=this.emojis.find(e=>e.shortname===":".concat(h,":"));void 0!==t&&(e=this.replaceBetweenIndex(e,t.char,o,i+1),s=0)}else{let e=0;a=this.emojis.filter(t=>{let a=t.shortname.includes(h)&&e<this.selectorLimit;return e+=a,a},this),this.state.propositions.length!==a.length&&(s=0)}this.setState({textValue:e,caretPosition:t,propositions:a,emojiSelected:s})},this.state={textValue:"",caretPosition:0,emojiSelected:0,propositions:[]},this.selectorLimit=5,this.emojis=r,this.textArea=i.a.createRef()}render(){return i.a.createElement("div",{className:"textarea-emoji",style:this.props.style},i.a.createElement("textarea",{ref:e=>this.textArea=e,style:this.props.textAreaStyle,value:this.state.textValue,className:"form-control textarea-emoji",onChange:this.handleChange,onKeyDown:this.handleKeyDown}),i.a.createElement("div",{className:"list-group emoji-selector"},this.state.propositions.map((e,t)=>{let a=t===this.state.emojiSelected?"emoji py-1 list-group-item list-group-item-action list-group-item-info":"emoji py-1 list-group-item list-group-item-action";return i.a.createElement("span",{key:e.unicode,id:e.shortname,className:a,onClick:this.onEmojiClicked},"".concat(e.char," ").concat(e.shortname," "))})))}}a(10);var l=()=>i.a.createElement(c,{style:{position:"fixed",top:"30%",left:"50%",transform:"translateX(-50%)"},textAreaStyle:{fontSize:"20pt"}});n.a.render(i.a.createElement(l,null),document.getElementById("root"))},2:function(e,t,a){e.exports=a(11)},3:function(e,t,a){}},[[2,1,2]]]);
//# sourceMappingURL=main.1f6613b4.chunk.js.map